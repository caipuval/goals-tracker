<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goals Tracker - Premium</title>
    <link rel="icon" type="image/png" href="/Images/GT_Logo_2.png">
    <link rel="stylesheet" href="style.css?v=39">
</head>
<body>
    <!-- Login/Register Screen -->
    <div id="auth-screen" class="screen active">
        <div class="auth-container">
            <div class="logo">
                <div class="logo-icon" aria-hidden="true">
                    <img
                        class="logo-icon-img"
                        src="/Images/GT_Logo_2.png?v=1"
                        alt="Goals Tracker logo"
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='grid';"
                    />
                    <span class="logo-icon-fallback" style="display:none">‚ö°</span>
                </div>
                <h1>GOALS TRACKER</h1>
                <p class="tagline">Built for Growth</p>
            </div>
            
            <div class="auth-forms">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="register">Register</button>
                </div>
                
                <form id="login-form" class="auth-form active">
                    <div class="form-group">
                        <label>Email or Username</label>
                        <input type="text" id="login-username" required placeholder="">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn-primary">Login</button>
                    <div id="login-error" class="error-message"></div>
                </form>
                
                <form id="register-form" class="auth-form">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="register-email" required placeholder="">
                    </div>
                    <div class="form-group">
                        <label>Username *</label>
                        <input type="text" id="register-username" required placeholder="Choose a username">
                    </div>
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" id="register-password" required placeholder="At least 6 characters" minlength="6">
                    </div>
                    <button type="submit" class="btn-primary">Create Account</button>
                    <div id="register-error" class="error-message"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="app-screen" class="screen">
        <div class="app-header">
            <div class="header-brand">
                <span class="logo-icon-small" aria-hidden="true">
                    <img
                        class="logo-icon-small-img"
                        src="/Images/GT_Logo_2.png?v=1"
                        alt="Goals Tracker logo"
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';"
                    />
                    <span class="logo-icon-small-fallback" style="display:none">‚ö°</span>
                </span>
                <span>GOALS TRACKER</span>
                <span class="header-username" id="username-display"></span>
            </div>
            <div class="header-clock">
                <div id="live-clock"></div>
            </div>
        </div>

        <div class="main-container">
            <div class="sidebar">
                <button class="nav-item active" data-view="calendar">
                    <span class="icon">üìÖ</span>
                    <span>Calendar</span>
                </button>
                <button class="nav-item" data-view="goals">
                    <span class="icon">üéØ</span>
                    <span>My Goals</span>
                </button>
                <button class="nav-item" data-view="timer">
                    <span class="icon">‚è±Ô∏è</span>
                    <span>Timer</span>
                </button>
                <button class="nav-item" data-view="statistics">
                    <span class="icon">üìä</span>
                    <span>Statistics</span>
                </button>
                <button class="nav-item" data-view="leaderboard">
                    <span class="icon">üèÜ</span>
                    <span>Leaderboard</span>
                </button>
                <button class="nav-item" data-view="friends">
                    <span class="icon">üë•</span>
                    <span>Friends</span>
                    <span class="friends-nav-badge" id="friends-nav-badge" style="display: none;" aria-label="New activity">0</span>
                </button>
                <button class="nav-item" data-view="competition">
                    <span class="icon">‚öîÔ∏è</span>
                    <span>Competition</span>
                </button>
                <button class="nav-item" data-view="profile">
                    <span class="icon">üë§</span>
                    <span>Profile</span>
                </button>
                <div class="sidebar-actions">
                    <button id="new-goal-btn" class="btn-primary btn-block">
                        <span>+ New Goal</span>
                    </button>
                    <button id="logout-btn" class="btn-secondary btn-block">Logout</button>
                </div>
            </div>

            <div class="content">
                <!-- Calendar View -->
                <div id="calendar-view" class="view active">
                    <div class="view-header">
                        <h2>Calendar</h2>
                        <div class="calendar-controls">
                            <button id="prev-month" class="btn-icon">‚Äπ</button>
                            <span id="current-month"></span>
                            <button id="next-month" class="btn-icon">‚Ä∫</button>
                        </div>
                    </div>
                    
                    <div id="calendar"></div>
                    
                    <div id="day-details" class="day-details" style="display: none;">
                        <div class="day-details-header">
                            <h3 id="selected-date"></h3>
                            <button id="close-details" class="btn-icon">‚úï</button>
                        </div>
                        <div id="day-goals-list"></div>
                        <div id="day-note-section" class="day-note-section">
                            <h4 class="day-note-title">Day note</h4>
                            <p class="day-note-subtitle">Rate your productivity and mood</p>
                            <div class="day-note-form">
                                <label class="day-note-label">Notes</label>
                                <textarea id="day-note-accomplishments" class="day-note-textarea" placeholder="Accomplishments, gratitude, reflections..." rows="4"></textarea>
                                <div class="day-note-ratings">
                                    <div class="day-note-rating-group">
                                        <label class="day-note-label">Productivity</label>
                                        <div class="day-note-stars" id="day-note-productivity" data-rating="0" aria-label="Rate productivity 1‚Äì5">
                                            <button type="button" class="day-note-star" data-value="1" aria-label="1">‚òÖ</button>
                                            <button type="button" class="day-note-star" data-value="2" aria-label="2">‚òÖ</button>
                                            <button type="button" class="day-note-star" data-value="3" aria-label="3">‚òÖ</button>
                                            <button type="button" class="day-note-star" data-value="4" aria-label="4">‚òÖ</button>
                                            <button type="button" class="day-note-star" data-value="5" aria-label="5">‚òÖ</button>
                                        </div>
                                    </div>
                                    <div class="day-note-rating-group">
                                        <label class="day-note-label">Mood</label>
                                        <div class="day-note-mood" id="day-note-mood" data-rating="0" aria-label="Rate mood 1‚Äì5">
                                            <button type="button" class="day-note-mood-btn" data-value="1" aria-label="Terrible">üò¢</button>
                                            <button type="button" class="day-note-mood-btn" data-value="2" aria-label="Okay">üòê</button>
                                            <button type="button" class="day-note-mood-btn" data-value="3" aria-label="Good">üôÇ</button>
                                            <button type="button" class="day-note-mood-btn" data-value="4" aria-label="Great">üòä</button>
                                            <button type="button" class="day-note-mood-btn" data-value="5" aria-label="Amazing">üòÑ</button>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" id="day-note-save" class="day-note-save-btn">Save day note</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Goals View -->
                <div id="goals-view" class="view">
                    <div class="view-header">
                        <h2>My Goals</h2>
                        <select id="goals-period" class="select-input">
                            <option value="all">All Time</option>
                            <option value="today" selected>Today</option>
                            <option value="tomorrow">Tomorrow</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="3months">3 Months</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                    <div id="goals-list"></div>
                </div>

                <!-- Timer View -->
                <div id="timer-view" class="view">
                    <div class="view-header">
                        <h2>Timer</h2>
                    </div>
                    <div class="timer-content">
                        <p class="timer-description">Track time for an activity. If you have a goal with the same name, time will be logged to it when you stop.</p>
                        <div class="timer-activity-row">
                            <label for="timer-activity" class="timer-label">Activity</label>
                            <input type="text" id="timer-activity" class="timer-input" placeholder="e.g. Reading" list="timer-goals-list" autocomplete="off" />
                            <datalist id="timer-goals-list"></datalist>
                        </div>
                        <div id="timer-match-hint" class="timer-match-hint" aria-live="polite"></div>
                        <div class="timer-display-wrap">
                            <div id="timer-display" class="timer-display">0:00:00</div>
                        </div>
                        <div class="timer-actions">
                            <button type="button" id="timer-start-stop" class="btn-primary timer-btn">Start</button>
                        </div>
                    </div>
                </div>

                <!-- Statistics View -->
                <div id="statistics-view" class="view">
                    <div class="view-header">
                        <h2>Statistics</h2>
                        <select id="statistics-period" class="select-input">
                            <option value="today" selected>Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="3months">3 Months</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                    <div id="statistics-content">
                        <div class="stats-overview">
                            <div class="stat-card">
                                <div class="stat-label">Total Time</div>
                                <div class="stat-value" id="total-time-stat">0h</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Goals Completed</div>
                                <div class="stat-value" id="goals-completed-stat">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Active Goals</div>
                                <div class="stat-value" id="active-goals-stat">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Days Failed</div>
                                <div class="stat-value" id="days-failed-stat">0</div>
                            </div>
                        </div>
                        <div class="stats-breakdown">
                            <h3>Time by Activity</h3>
                            <div id="activity-stats"></div>
                            <div class="activity-chart-container">
                                <canvas id="activity-chart"></canvas>
                            </div>
                        </div>
                        <div class="stats-chart">
                            <h3>Time Progress Over Time</h3>
                            <canvas id="time-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Leaderboard View -->
                <div id="leaderboard-view" class="view">
                    <div class="view-header">
                        <h2>Leaderboard</h2>
                        <select id="leaderboard-period" class="select-input">
                            <option value="today">Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week" selected>This Week</option>
                            <option value="month">This Month</option>
                            <option value="3months">3 Months</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                    <div id="leaderboard-list"></div>
                </div>

                <!-- Friends View -->
                <div id="friends-view" class="view">
                    <div class="view-header">
                        <h2>Friends</h2>
                    </div>
                    <div class="friends-content" id="friends-content">
                        <div class="friends-left">
                            <div class="friends-sidebar-panel">
                                <div class="friends-sidebar-header">
                                    <div>
                                        <h3>Friends</h3>
                                        <p class="friends-sidebar-subtitle">Add friends, view profiles, and accept competition invites.</p>
                                    </div>
                                </div>

                                <div class="friends-add-row">
                                    <div class="friends-add-input" aria-label="Friend username">
                                        <span class="friends-add-input__icon">@</span>
                                        <input type="text" id="add-friend-username" placeholder="Add by username" autocomplete="off" />
                                    </div>
                                    <button type="button" class="btn-primary friends-add-btn" id="add-friend-btn">Send</button>
                                </div>

                                <div class="friends-section">
                                    <div class="friends-section__header">
                                        <span>Requests</span>
                                        <span class="friends-count" id="friend-requests-count" style="display:none"></span>
                                    </div>
                                    <div id="friend-requests-list" class="friends-list"></div>
                                </div>

                                <div class="friends-section">
                                    <div class="friends-section__header">
                                        <span>Invites</span>
                                        <span class="friends-count" id="competition-invites-count" style="display:none"></span>
                                    </div>
                                    <div id="competition-invites-list" class="friends-list"></div>
                                </div>

                                <div class="friends-section friends-section--last">
                                    <div class="friends-section__header">
                                        <span>Friends</span>
                                        <span class="friends-count" id="friends-count" style="display:none"></span>
                                    </div>
                                    <div id="friends-list" class="friends-list"></div>
                                </div>
                            </div>
                        </div>

                        <div class="friends-right">
                            <div class="friends-right-panel">
                                <div class="friends-hero" id="friend-empty" style="display: block;">
                                    <div class="friends-hero__icon" aria-hidden="true">üë§</div>
                                    <h3>Select a friend</h3>
                                    <p>Click a friend to view their goals and time summary.</p>
                                </div>

                                <div id="friend-detail" class="friends-detail" style="display: none;">
                                    <div class="friends-detail-header">
                                        <div class="friends-detail-meta">
                                            <h3 id="friend-detail-name"></h3>
                                            <p id="friend-detail-subtitle"></p>
                                        </div>
                                        <div class="friends-detail-controls">
                                            <select id="friend-period" class="select-input friends-period-select">
                                                <option value="today" selected>Today</option>
                                                <option value="yesterday">Yesterday</option>
                                                <option value="week">This Week</option>
                                                <option value="month">This Month</option>
                                                <option value="3months">3 Months</option>
                                                <option value="year">This Year</option>
                                                <option value="all">All Time</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="stats-overview friends-stats">
                                        <div class="stat-card">
                                            <div class="stat-label">Total Time</div>
                                            <div class="stat-value" id="friend-total-time">0m</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-label">Goals</div>
                                            <div class="stat-value" id="friend-total-goals">0</div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-label">Active Goals</div>
                                            <div class="stat-value" id="friend-active-goals">0</div>
                                        </div>
                                    </div>

                                    <div class="stats-breakdown friends-breakdown">
                                        <div class="friends-breakdown-header">
                                            <h3>Time by Activity</h3>
                                        </div>
                                        <div class="friends-breakdown-grid">
                                            <div id="friend-activity-stats"></div>
                                            <div class="activity-chart-container friend-activity-chart-container">
                                                <canvas id="friend-activity-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="friends-card friends-detail-card">
                                        <h3 id="friend-date-goals-title">Today's Goals</h3>
                                        <div id="friend-top-goals" class="friends-top-goals friends-date-goals"></div>
                                    </div>

                                    <div id="friend-day-note-section" class="day-note-section friend-day-note-section">
                                        <h4 class="day-note-title">Day note</h4>
                                        <p class="day-note-subtitle">Rate your productivity and mood <span id="friend-day-note-date" class="friend-day-note-date"></span></p>
                                        <div class="day-note-form friend-day-note-form">
                                            <label class="day-note-label">Notes</label>
                                            <div id="friend-day-note-notes" class="friend-day-note-notes" aria-readonly="true"></div>
                                            <div class="day-note-ratings">
                                                <div class="day-note-rating-group">
                                                    <label class="day-note-label">Productivity</label>
                                                    <div id="friend-day-note-productivity" class="day-note-stars friend-day-note-stars" aria-label="Productivity 1‚Äì5">
                                                        <span class="day-note-star friend-day-note-star" data-value="1">‚òÖ</span>
                                                        <span class="day-note-star friend-day-note-star" data-value="2">‚òÖ</span>
                                                        <span class="day-note-star friend-day-note-star" data-value="3">‚òÖ</span>
                                                        <span class="day-note-star friend-day-note-star" data-value="4">‚òÖ</span>
                                                        <span class="day-note-star friend-day-note-star" data-value="5">‚òÖ</span>
                                                    </div>
                                                </div>
                                                <div class="day-note-rating-group">
                                                    <label class="day-note-label">Mood</label>
                                                    <div id="friend-day-note-mood" class="day-note-mood friend-day-note-mood" aria-label="Mood 1‚Äì5">
                                                        <span class="day-note-mood-btn friend-day-note-mood-btn" data-value="1">üò¢</span>
                                                        <span class="day-note-mood-btn friend-day-note-mood-btn" data-value="2">üòê</span>
                                                        <span class="day-note-mood-btn friend-day-note-mood-btn" data-value="3">üôÇ</span>
                                                        <span class="day-note-mood-btn friend-day-note-mood-btn" data-value="4">üòä</span>
                                                        <span class="day-note-mood-btn friend-day-note-mood-btn" data-value="5">üòÑ</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <p id="friend-day-note-empty" class="friend-day-note-empty">No day note for this date.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Competition View -->
                <div id="competition-view" class="view">
                    <div class="view-header competition-view-header">
                        <h2>Competition</h2>
                        <button id="create-competition-btn" type="button" class="btn-primary">+ Create Competition</button>
                    </div>
                    <div id="competition-content">
                        <div id="no-competition" class="empty-state" style="display: none;">
                            <div class="empty-icon" aria-hidden="true">
                                <img
                                    class="empty-icon-img"
                                    src="/Images/Competition.png?v=1"
                                    alt=""
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                                />
                                <span class="empty-icon-fallback" style="display:none">üèÜ</span>
                            </div>
                            <h3>No competitions yet</h3>
                            <p>Create a competition and challenge your friends!</p>
                        </div>
                        <div id="competition-list" class="competition-list" style="display: none;"></div>
                        <div id="competition-detail" class="competition-detail" style="display: none;">
                            <div class="competition-header">
                                <h3 id="competition-title"></h3>
                                <button id="close-competition-detail" type="button" class="competition-close" aria-label="Close competition">‚úï</button>
                                <p id="competition-description"></p>
                            </div>
                            <div class="competition-stats">
                                <div class="stat-card">
                                    <div class="stat-label">Your Time</div>
                                    <div class="stat-value" id="my-competition-time">0m</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label">Rank</div>
                                    <div class="stat-value" id="my-competition-rank">-</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label">Total Time</div>
                                    <div class="stat-value" id="competition-total-time">0m</div>
                                </div>
                            </div>
                            <div class="competition-actions">
                                <button id="join-competition-btn" class="btn-primary" style="display: none;">Join Competition</button>
                                <button id="invite-competition-btn" class="btn-primary btn-secondary-style">Invite</button>
                                <button id="add-competition-time-btn" class="btn-primary">Add Time</button>
                                <button id="remove-competition-time-btn" class="btn-primary btn-secondary-style">Remove Time</button>
                                <button id="leave-competition-btn" class="btn-primary btn-secondary-style" style="display: none;">Leave</button>
                                <button id="delete-competition-btn" class="btn-primary btn-danger-style" style="display: none;">Delete</button>
                            </div>
                            <div class="competition-leaderboard">
                                <h4>Competition Leaderboard</h4>
                                <div id="competition-leaderboard-list"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile View -->
                <div id="profile-view" class="view">
                    <div class="view-header">
                        <h2>Profile</h2>
                    </div>
                    <div class="profile-content">
                        <form id="profile-form" class="profile-form">
                            <div class="form-group">
                                <label for="profile-email">Email</label>
                                <input type="email" id="profile-email" name="email" placeholder="your@email.com" autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="profile-username">Username</label>
                                <input type="text" id="profile-username" name="username" placeholder="Username" autocomplete="username" minlength="2">
                            </div>
                            <div class="profile-section-divider">
                                <h3>Change password</h3>
                                <p class="profile-hint">Leave blank to keep your current password.</p>
                            </div>
                            <div class="form-group">
                                <label for="profile-current-password">Current password</label>
                                <input type="password" id="profile-current-password" name="currentPassword" placeholder="Required only to change password" autocomplete="current-password">
                            </div>
                            <div class="form-group">
                                <label for="profile-new-password">New password</label>
                                <input type="password" id="profile-new-password" name="newPassword" placeholder="At least 6 characters" autocomplete="new-password" minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="profile-confirm-password">Confirm new password</label>
                                <input type="password" id="profile-confirm-password" name="confirmPassword" placeholder="Repeat new password" autocomplete="new-password">
                            </div>
                            <button type="submit" id="profile-save-btn" class="btn-primary">Save changes</button>
                            <p id="profile-message" class="profile-message" style="display: none;"></p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Goal Modal -->
    <div id="goal-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Goal</h2>
                <button class="btn-icon" id="close-modal">‚úï</button>
            </div>
            <form id="goal-form">
                <div class="form-group">
                    <label>Goal Title *</label>
                    <input type="text" id="goal-title" required placeholder="e.g., Reading">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="goal-description" placeholder="Optional details about your goal"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Type *</label>
                        <select id="goal-type" required>
                            <option value="one-time">One-Time (Single Day)</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Duration (Optional)</label>
                        <div class="duration-input-group">
                            <div class="time-unit-toggle">
                                <button type="button" class="time-unit-btn active" data-unit="minutes">Minutes</button>
                                <button type="button" class="time-unit-btn" data-unit="hours">Hours</button>
                            </div>
                            <input type="number" id="goal-duration" min="0" step="0.1" placeholder="Leave empty for no time">
                        </div>
                        <small class="form-hint">Leave empty to log time after completion</small>
                    </div>
                </div>
                <div class="form-group">
                    <label>Goal Date *</label>
                    <input type="date" id="goal-start-date" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-goal">Cancel</button>
                    <button type="submit" class="btn-primary">Create Goal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Complete Goal Modal -->
    <div id="complete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Log Completion</h2>
                <button class="btn-icon" id="close-complete-modal">‚úï</button>
            </div>
            <form id="complete-form">
                <div class="form-group">
                    <label id="complete-goal-title"></label>
                    <div class="form-hint" id="complete-goal-info"></div>
                </div>
                <div class="form-group" id="time-spent-group">
                    <label>Time Spent (Optional)</label>
                    <div class="duration-input-group">
                        <div class="time-unit-toggle">
                            <button type="button" class="time-unit-btn active" data-unit="minutes" id="complete-unit-minutes">Minutes</button>
                            <button type="button" class="time-unit-btn" data-unit="hours" id="complete-unit-hours">Hours</button>
                        </div>
                        <input type="number" id="complete-duration" min="0" step="0.1" placeholder="Leave empty for no time">
                    </div>
                    <small class="form-hint" id="time-hint">Leave empty and click "Done" to complete without logging time</small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-complete">Cancel</button>
                    <button type="submit" class="btn-primary" id="complete-submit-btn">Log Time</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Competition Modal -->
    <div id="competition-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Competition</h2>
                <button class="btn-icon" id="close-competition-modal">‚úï</button>
            </div>
            <form id="competition-form">
                <div class="form-group">
                    <label>Competition Goal Title *</label>
                    <input type="text" id="competition-title-input" required placeholder="e.g., Daily Reading">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="competition-description-input" placeholder="What are you competing on?"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-competition">Cancel</button>
                    <button type="submit" class="btn-primary">Create Competition</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Competition Modal -->
    <div id="edit-competition-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Competition</h2>
                <button class="btn-icon" id="close-edit-competition-modal">‚úï</button>
            </div>
            <form id="edit-competition-form">
                <input type="hidden" id="edit-competition-id">
                <div class="form-group">
                    <label>Competition Goal Title *</label>
                    <input type="text" id="edit-competition-title" required placeholder="e.g., Daily Reading">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="edit-competition-description" placeholder="What are you competing on?"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-edit-competition">Cancel</button>
                    <button type="submit" class="btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Log Competition Time Modal -->
    <div id="log-competition-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Log Competition Time</h2>
                <button class="btn-icon" id="close-log-competition-modal">‚úï</button>
            </div>
            <form id="log-competition-form">
                <div class="form-group">
                    <label>Time Spent *</label>
                    <div class="duration-input-group">
                        <div class="time-unit-toggle">
                            <button type="button" class="time-unit-btn active" data-unit="minutes" id="competition-unit-minutes">Minutes</button>
                            <button type="button" class="time-unit-btn" data-unit="hours" id="competition-unit-hours">Hours</button>
                        </div>
                        <input type="number" id="competition-duration" min="0" step="0.1" required placeholder="Enter time">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-log-competition">Cancel</button>
                    <button type="submit" class="btn-primary">Log Time</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Invite to Competition Modal -->
    <div id="invite-competition-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Invite to Competition</h2>
                <button class="btn-icon" id="close-invite-modal">‚úï</button>
            </div>
            <form id="invite-competition-form">
                <div class="form-group">
                    <label>Username *</label>
                    <input type="text" id="invite-username" required placeholder="Enter username to invite">
                    <small class="form-hint">Enter the username of the person you want to invite</small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-invite">Cancel</button>
                    <button type="submit" class="btn-primary">Send Invite</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Participant Details Modal -->
    <div id="participant-details-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="participant-details-name">Participant Details</h2>
                <button class="btn-icon" id="close-participant-modal">‚úï</button>
            </div>
            <div id="participant-details-content">
                <div class="participant-summary">
                    <div class="stat-card">
                        <div class="stat-label">Total Time</div>
                        <div class="stat-value" id="participant-total-time">0m</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Days Active</div>
                        <div class="stat-value" id="participant-days-active">0</div>
                    </div>
                </div>
                <div class="participant-daily-breakdown">
                    <h3>Daily Breakdown</h3>
                    <div id="participant-daily-list"></div>
                </div>
                <div class="participant-time-breakdown" id="participant-time-breakdown-container">
                    <h3>Time Breakdown</h3>
                    <div id="participant-time-breakdown-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js?v=44"></script>
</body>
</html>
